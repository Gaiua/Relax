1. What: 什么是闭包

       - 官方定义：闭包（Closure）是Java所不具备的语法结构(JAVA8增加了对闭包的支持)。闭包就是一个代码块，用“{ }”包起来。此时，程序代码也就成了数据，可以被一个变量所引用（与C语言的函数指针比较类似）。闭包的最典型的应用是实现回调函数（callback）。Groovy的API大量使用闭包，以实现对外开放。闭包的创建过程很简单，例如：
         { 参数 ->
         代码...
         }
         参考下面的例子代码，定义了c1和c2两个闭包，并对它们进行调用：
         def c1 = { println it }
         def c2 = { text -> println text }
         c1.call("content1") //用call方法调用闭包
         c2("content2") //直接调用闭包
         “->；”之前的部分为闭包的参数，如果有多个参数，之间可用逗号分割；“->；”之后的部分为闭包内的程序代码。如果省略了“->；”和它之前的部分，此时闭包中代码，可以用名为“it”的变量访问参数。
         闭包的返回值和函数的返回值定义方式是一样的：如果有return语句，则返回值是return语句后面的内容；如果没有return语句，则闭包内的最后一行代码就是它的返回值。 [2]

       - 个人理解：一段程序代码通常由常量、变量和表达式组成，然后使用一对花括号“{}”来表示闭合，并包裹着这些代码，由这对花括号包裹着的代码块就是一个闭包。

       - 闭包特性：能够读取其他函数内部变量的函数。

         例如在javascript中，只有函数内部的子函数才能读取局部变量，所以闭包可以理解成“定义在一个函数内部的函数“。
                  在本质上，闭包是将函数内部和函数外部连接起来的桥梁。

       - Kotlin中的闭包是一个功能性自包含模块，可以再代码中被当做参数传递或者直接使用。

2. Why: 为什么会设计闭包这种结构？

           fun main(args: Array<String>) {
               // 执行test闭包的内容
               test
           }
           // 定义一个比较测试闭包
           val test = if (5 > 3) {
               println("yes")
           } else {
               println("no")
           }

        - 为什么能够将一个if逻辑语句赋值给test呢？
        - 为什么在main函数中单独写一个test就能执行test所指向的if逻辑呢？
        - 如果一个if逻辑快块是一个闭包？那么还有什么逻辑块可以是闭包呢？
        - 从上述的例子来说，我们可以看出来，其实定义一个函数就好了，但是如果我想在外部读取局部变量怎么办？

        - 一般我们的做法通过定义一个接口，通过接口回调，很复杂，这里通过闭包就可以实现；因为闭包定义在函数内部，所以可以访问局部变量，而且实现起来很简单

3. When: 什么时候用闭包，或者说闭包的用途：
        1. 能够读取其他函数内部变量的函数
        2. 让这些变量的值始终保持在内存中
        3. 最典型的应用是实现回调函数


        /**
         * 计数统计 用途1 和 用途2 体现
         */
        fun justCount():() -> Unit{
            var count = 0
            return {
                println(count++)
            }
        }

        fun main(args: Array<String>) {

            val count = justCount()
            count()  // 输出结果：0
            count()  // 输出结果：1
            count()  // 输出结果：2

            //调用justCount我们会得到一个闭包，这个闭包可以读取局部变量的值，并且闭包会持有这个局部变量，而不会被销毁

        }

        // 用途3的体现
        fun request(f:(data:String)->Unit){
            var data = "Hello World"
            f(data)
        }

4. 自执行闭包

    自执行闭包就是在定义闭包的同时直接执行闭包，一般用于初始化上下文环境。 例如：

    { x: Int, y: Int ->
        println("${x + y}")
    }(1, 3)

总结 ：广义上来说，在Kotlin语言之中，函数、条件语句、控制流语句、花括号逻辑块、Lambda表达式都可以称之为闭包，

但通常情况下，我们所指的闭包都是在说Lambda表达式，通过Lambda可以实现匿名函数，也可以把这个匿名函数传递给其他函数